<!DOCTYPE html>
<html lang="ru">

<head>
  <!--
    OpenWays ‚Äî –ü–∞–≤–ª–æ–¥–∞—Ä MVP
    ---------------------------------------------------------
    –§–∏—Ä–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å –≥–æ—Ä–æ–¥–∞ –ü–∞–≤–ª–æ–¥–∞—Ä–∞
    –°–ª–æ–≥–∞–Ω: "–ï—Ä–∫–µ –ï—Ä—Ç—ñ—Å—Ç—ñ“£ –∂–∞“ì–∞—Å—ã–Ω–¥–∞‚Ä¶" 
    –û–ø–∏—Å–∞–Ω–∏–µ:
    - –ú–∞—Ä–∫–µ—Ä—ã –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ (—Ü–≤–µ—Ç = —É—Ä–æ–≤–µ–Ω—å, —ç–º–æ–¥–∑–∏ = –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏)
    - –ú–∞—Ä—à—Ä—É—Ç—ã –ø–æ –¥–æ—Ä–æ–≥–∞–º (OSRM walking), —Å–µ–≥–º–µ–Ω—Ç—ã —Ä–∞–∑–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤
    - –ù–∏–∂–Ω—è—è –∫–∞—Ä—Ç–æ—á–∫–∞ (bottom sheet) —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –º–µ—Å—Ç–µ
    - –§–∏–ª—å—Ç—Ä—ã –ø–æ —Ç–∏–ø–∞–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
    - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞–∑–∞—Ö—Å–∫–æ–≥–æ, —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤
    - –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ—Ä–Ω–∞–º–µ–Ω—Ç—ã –∏ —Å–∏–º–≤–æ–ª–∏–∫–∞ –ü–∞–≤–ª–æ–¥–∞—Ä–∞
    ---------------------------------------------------------
    –ê–≤—Ç–æ—Ä: OpenWays Team
    –í–µ—Ä—Å–∏—è: 3.3 (–ü–∞–≤–ª–æ–¥–∞—Ä Brand Edition)
  -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>OpenWays ‚Äî –ï—Ä–∫–µ –ï—Ä—Ç—ñ—Å—Ç—ñ“£ –∂–∞“ì–∞—Å—ã–Ω–¥–∞‚Ä¶ | –ö–∞—Ä—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ü–∞–≤–ª–æ–¥–∞—Ä–∞</title>

  <!-- Leaflet (–∫–∞—Ä—Ç–∞) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <!-- =======================================================
       –í–ï–†–•–ù–Ø–Ø –ü–ê–ù–ï–õ–¨ –° –ë–†–ï–ù–î–û–ú –ü–ê–í–õ–û–î–ê–†–ê
       ======================================================= -->
  <div class="topbar">
    <div class="logo">
      <img src="–ª–æ–≥–æ —Ü–≤–µ—Ç.png" alt="OpenWays" class="logo-img">
      <div class="logo-content">
        <div class="logo-text">OpenWays</div>
        <div class="city-tagline" id="tagline">–ï—Ä–∫–µ –ï—Ä—Ç—ñ—Å—Ç—ñ“£ –∂–∞“ì–∞—Å—ã–Ω–¥–∞‚Ä¶</div>
      </div>
    </div>

    <!-- –Ø–∑—ã–∫–æ–≤–æ–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å -->
    <div class="language-selector">
      <button class="lang-btn active" data-lang="ru" title="–†—É—Å—Å–∫–∏–π">–†–£</button>
      <button class="lang-btn" data-lang="kk" title="“ö–∞–∑–∞“õ">“ö“ö</button>
      <button class="lang-btn" data-lang="en" title="English">EN</button>
    </div>

    <div class="filters" role="group" aria-label="–§–∏–ª—å—Ç—Ä—ã">
      <label class="chip"><input type="checkbox" id="flt-ramp" checked> ‚ôø <span data-text="ramp">–ü–∞–Ω–¥—É—Å</span></label>
      <label class="chip"><input type="checkbox" id="flt-elevator" checked> üõó <span
          data-text="elevator">–õ–∏—Ñ—Ç</span></label>
      <label class="chip"><input type="checkbox" id="flt-wc" checked> üöª <span data-text="wc">–¢—É–∞–ª–µ—Ç</span></label>
      <label class="chip"><input type="checkbox" id="flt-tactile" checked> üö∂ <span
          data-text="tactile">–¢–∞–∫—Ç–∏–ª—å–Ω–∞—è</span></label>

      <button class="btn-ghost" id="btn-add" data-text="add-point">+ –î–æ–±–∞–≤–∏—Ç—å —Ç–æ—á–∫—É</button>
      <button class="btn-ghost" id="btn-reset" data-text="reset">–°–±—Ä–æ—Å —Ñ–∏–ª—å—Ç—Ä–æ–≤</button>
      <button class="btn" id="btn-fit" data-text="show-all">–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å—ë</button>
      <button class="btn-secondary" id="btn-toggle-routes" data-text="show-routes">–ü–æ–∫–∞–∑–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã</button>
    </div>
    <div class="city-tagline" id="tagline">–ê–ª“ì–∞ “ö–∞–∑–∞“õ—Å—Ç–∞–Ω!</div>
  </div>

  <!-- =======================================================
       –ö–ê–†–¢–ê
       ======================================================= -->
  <div id="map" role="application" aria-label="–ö–∞—Ä—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤"></div>

  <!-- =======================================================
       –õ–ï–ì–ï–ù–î–ê + –î–ï–ô–°–¢–í–ò–Ø
       ======================================================= -->
  <div class="legend">
    <div class="legend-row"><span class="dot" style="background:#22c55e"></span> –î–æ—Å—Ç—É–ø–Ω–æ</div>
    <div class="legend-row"><span class="dot" style="background:#eab308"></span> –ß–∞—Å—Ç–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω–æ</div>
    <div class="legend-row"><span class="dot" style="background:#ef4444"></span> –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ</div>
    <div class="row-actions">
      <button class="btn-ghost" id="btn-hide-sheet">–°–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É</button>
    </div>
  </div>

  <!-- =======================================================
       –ù–ò–ñ–ù–Ø–Ø –ö–ê–†–¢–û–ß–ö–ê
       ======================================================= -->
  <div class="sheet" id="sheet">
    <div class="title" id="place-title">‚Äî</div>
    <div class="subtitle" id="place-address">‚Äî</div>
    <div class="tags" id="place-tags"></div>
    <p id="place-desc"></p>
  </div>

  <!-- =======================================================
       –ú–û–î–ê–õ–ö–ê –î–û–ë–ê–í–õ–ï–ù–ò–Ø (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
       ======================================================= -->
  <div class="modal" id="modal">
    <div class="modal-card">
      <h3>–î–æ–±–∞–≤–∏—Ç—å —Ç–æ—á–∫—É</h3>
      <div class="row"><input id="in-name" type="text" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" /></div>
      <div class="row"><input id="in-address" type="text" placeholder="–ê–¥—Ä–µ—Å / –ø–æ—è—Å–Ω–µ–Ω–∏–µ" /></div>
      <div class="row">
        <input id="in-lat" type="text" placeholder="–®–∏—Ä–æ—Ç–∞ (–∫–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–µ)" />
        <input id="in-lng" type="text" placeholder="–î–æ–ª–≥–æ—Ç–∞ (–∫–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–µ)" />
      </div>
      <small>–ü–æ–¥—Å–∫–∞–∑–∫–∞: —â—ë–ª–∫–Ω–∏ –ø–æ –∫–∞—Ä—Ç–µ ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–æ–¥—Å—Ç–∞–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</small>
      <div style="margin-top:10px; font-weight:700;">–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</div>
      <div class="row">
        <label class="chip"><input type="checkbox" id="in-ramp"> ‚ôø –ü–∞–Ω–¥—É—Å</label>
        <label class="chip"><input type="checkbox" id="in-elevator"> üõó –õ–∏—Ñ—Ç</label>
        <label class="chip"><input type="checkbox" id="in-wc"> üöª –¢—É–∞–ª–µ—Ç</label>
        <label class="chip"><input type="checkbox" id="in-tactile"> üö∂ –¢–∞–∫—Ç–∏–ª—å–Ω–∞—è</label>
      </div>
      <div class="row"><input id="in-desc" type="text" placeholder="–ö–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ" /></div>
      <div class="footer">
        <button class="btn-ghost" id="btn-cancel">–û—Ç–º–µ–Ω–∞</button>
        <button class="btn" id="btn-save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>
    </div>
  </div>

  <!-- =======================================================
       –°–¢–ê–¢–ò–°–¢–ò–ö–ê + –û–¢–õ–ê–î–ö–ê
       ======================================================= -->
  <div class="stat" id="stat" style="display:none;">
    <div class="stat-row"><span>–í—Å–µ–≥–æ —Ç–æ—á–µ–∫</span> <strong id="s-total">‚Äî</strong></div>
    <div class="stat-row"><span>–í–∏–¥–∏–º—ã—Ö –ø–æ —Ñ–∏–ª—å—Ç—Ä–∞–º</span> <strong id="s-visible">‚Äî</strong></div>
    <div class="stat-row"><span>–ú–∞—Ä—à—Ä—É—Ç–æ–≤ (–æ—Ç—Ä–µ–∑–∫–æ–≤)</span> <strong id="s-segs">‚Äî</strong></div>
    <div class="stat-row"><span>–î–æ–ª—è –∑–µ–ª—ë–Ω—ã—Ö</span> <strong id="s-green">‚Äî</strong></div>
  </div>

  <!-- =======================================================
       –ß–ê–¢ –° –ò–ò
       ======================================================= -->
  <div class="chat-container" id="chat-container">
    <div class="chat-header">
      <h3>üí¨ –ü–æ–º–æ—â–Ω–∏–∫ OpenWays</h3>
      <button class="btn-close-chat" id="btn-close-chat">√ó</button>
    </div>
    <div class="chat-messages" id="chat-messages"></div>
    <div class="chat-footer"></div>
    <form class="chat-form" id="chat-form">
      <input type="text" id="chat-input" class="chat-input" placeholder="–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –æ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏..."
        autocomplete="off" />
      <button type="submit" class="btn-send" id="btn-send">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </form>
  </div>
  </div>

  <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è —á–∞—Ç–∞ (–ø–ª–∞–≤–∞—é—â–∞—è) -->
  <button class="btn-chat-toggle" id="btn-chat-toggle" title="–û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç">üí¨</button>

  <div class="debug" id="debug">init‚Ä¶</div>

  <script src="script.js"></script>
</body>

</html>
